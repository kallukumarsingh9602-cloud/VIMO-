<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Language - VIMO</title>
    <style>
        body { 
            margin: 0; 
            font-family: 'Arial', sans-serif; 
            background: #ffffff; 
            color: #000; 
        }
        .lang-header { 
            padding: 20px; 
            background: #f1f3f4; 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            border-bottom: 1px solid #ddd; 
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .search-bar { 
            flex: 1; 
            padding: 15px; 
            border: 2px solid #2ecc71; 
            border-radius: 10px; 
            font-size: 18px; 
            color: black; 
        }
        .close-btn {
            font-size: 40px; 
            border: none; 
            background: none;
            cursor: pointer;
            color: #333;
        }
        .lang-list { 
            padding: 10px; 
            overflow-y: auto;
        }
        .lang-item { 
            display: flex; 
            align-items: center; 
            padding: 18px; 
            border-bottom: 1px solid #eee; 
            cursor: pointer; 
            transition: background 0.2s;
        }
        .lang-item:hover {
            background: #f5f5f5;
        }
        .flag { 
            font-size: 28px; 
            margin-right: 20px; 
        }
        .lang-name {
            font-weight: bold;
        }
        .lang-english {
            color: #666;
            font-size: 14px;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div class="lang-header">
        <input type="text" class="search-bar" id="langSearch" placeholder="Search 195+ Countries..." onkeyup="filterLangs()">
        <button class="close-btn" onclick="goBack()">&times;</button>
    </div>
    <div class="lang-list" id="list-container"></div>
    <script src="countries-data.js"></script>
    <script>
        function renderLangs(list) {
            document.getElementById('list-container').innerHTML = list.map(x => `
                <div class="lang-item" onclick="setLanguage('${x.c}')">
                    <span class="flag">${x.f}</span>
                    <span class="lang-name">${x.s}</span> 
                    <span class="lang-english">(${x.n})</span>
                </div>
            `).join('');
        }
        function filterLangs() {
            const q = document.getElementById('langSearch').value.toLowerCase();
            renderLangs(countries.filter(x => 
                x.n.toLowerCase().includes(q) || 
                x.s.toLowerCase().includes(q)
            ));
        }
        function setLanguage(langCode) {
            localStorage.setItem('vimoLang', langCode);
            window.location.href = 'index.html';
        }
        function goBack() {
            window.location.href = 'index.html';
        }
        window.onload = () => {
            renderLangs(countries);
        };
    </script>
</body>
</html>
